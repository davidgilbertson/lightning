


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="google-site-verification" content="okUst94cAlWSsUsGZTB4xSS4UKTtRV8Nu5XZ9pdd3Aw" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Encrypted Secrets &mdash; lightning 0.7.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/icon.svg"/>
  
  
  
    <link rel="canonical" href="https://github.com/Lightning-AI/lightning/glossary/secrets.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> -->
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/togglebutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/main.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_paramlinks.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Arrange App Tabs" href="../workflows/arrange_tabs/index.html" />
    <link rel="prev" title="Add a web link" href="../workflows/add_web_link.html" />
  <!-- Google Analytics -->
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-D3Q2ESCTZR"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-D3Q2ESCTZR');
    </script>
  
  <!-- End Google Analytics -->
  

  
  <script src="../_static/js/modernizr.min.js"></script>

  <!-- Preload the theme fonts -->

<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-book.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/IBMPlexMono/IBMPlexMono-Medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-medium-italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/IBMPlexMono/IBMPlexMono-SemiBold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/UCity/UCity-Light.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/UCity/UCity-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/UCity/UCity-Semibold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/Inconsolata/Inconsolata.woff2" as="font" type="font/woff2" crossorigin="anonymous">

<!-- Preload the katex fonts -->

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Caligraphic-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <script defer src="https://use.fontawesome.com/releases/v6.1.1/js/all.js" integrity="sha384-xBXmu0dk1bEoiwd71wOonQLyH+VpgR1XcDH3rtxrLww5ajNTuMvBdL5SOiFZnNdp" crossorigin="anonymous"></script>
</head>

<div id="lightning-ai-header"></div>

<body class="pytorch-body">

   

    

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="pytorch-left-menu" id="pytorch-left-menu">
      <div class="pytorch-side-scroll">
        <div class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="pytorch-left-menu-search">
            

            
              
              
                <div class="version">
                  0.7.0
                </div>
              
            

            


  


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

            
          </div>

          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Home</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome to ⚡ Lightning Apps</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/lightning_apps_intro.html">Lightning Apps in 15 minutes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">App Building Skills</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../levels/basic/index.html">Basic skills</a></li>
<li class="toctree-l1"><a class="reference internal" href="../levels/intermediate/index.html">Intermediate skills</a></li>
<li class="toctree-l1"><a class="reference internal" href="../levels/advanced/index.html">Advanced skills</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/dag/dag.html">Develop a DAG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/file_server/file_server.html">Develop a File Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/github_repo_runner/github_repo_runner.html">Develop a Github Repo Script Runner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/hpo/hpo.html">Develop a HPO Sweeper</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/model_server_app/model_server_app.html">Develop a Model Server</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How to...</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../workflows/access_app_state/access_app_state.html">Access the App State</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/add_web_ui/index.html">Add a web user interface (UI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/add_web_link.html">Add a web link</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Add encrypted secrets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/arrange_tabs/index.html">Arrange app tabs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/build_command_line_interface/index.html">Develop a Command Line Interface (CLI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/build_lightning_app/index.html">Develop a Lightning App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/build_lightning_component/index.html">Develop a Lightning Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/build_rest_api/index.html">Develop a REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/run_work_once.html">Cache Work run calls</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core_api/lightning_work/compute.html">Customize your cloud compute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/extend_app.html">Extend an existing app</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/build_lightning_component/publish_a_component.html">Publish a Lightning component</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/add_server/index.html">Run a server within a Lightning App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/run_app_on_cloud/index.html">Run an App on the cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/byoc/index.html">Run Apps on your cloud account (BYOC)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/run_work_in_parallel.html">Run work in parallel</a></li>
<li class="toctree-l1"><a class="reference internal" href="storage/drive.html">Save files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/share_app.html">Share an app</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/share_files_between_components.html">Share files between components</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Core API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../core_api/lightning_app/index.html">LightningApp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core_api/lightning_flow.html">LightningFlow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core_api/lightning_work/index.html">LightningWork</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Addons API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_reference/components.html">lightning_app.components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_reference/frontend.html">lightning_app.frontend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_reference/runners.html">lightning_app.runners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_reference/storage.html">lightning_app.storage</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Glossary</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="app_tree.html">App Components Tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="build_config/build_config.html">Build Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="command_lines/command_lines.html">Command Line Interface (CLI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="dag.html">DAG</a></li>
<li class="toctree-l1"><a class="reference internal" href="event_loop.html">Event Loop</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment_variables.html">Environment Variables</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Encrypted Secrets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/add_web_ui/glossary_front_end.html">Frontend</a></li>
<li class="toctree-l1"><a class="reference internal" href="ios_and_android.html">Apple and Android mobile devices with Lighting Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="restful_api/restful_api.html">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="sharing_components.html">Sharing Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="scheduling.html">Scheduling</a></li>
<li class="toctree-l1"><a class="reference internal" href="storage/storage.html">Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows/add_web_ui/glossary_ui.html">UI</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <div class="pytorch-container">
      <div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
        <div class="pytorch-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="pytorch-breadcrumbs">
    
      <li>
        <a href="../index.html">
          
            Docs
          
        </a> &gt;
      </li>

        
      <li>Encrypted Secrets</li>
    
    
      <li class="pytorch-breadcrumbs-aside">
        
            
            <a href="../_sources/glossary/secrets.rst.txt" rel="nofollow"><img src="../_static/images/view-page-source-icon.svg"></a>
          
        
      </li>
    
  </ul>

  
</div>
        </div>

        <div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="pytorch-content-wrap" class="pytorch-content-wrap">
        <div class="pytorch-content-left">

        
          
          <div class="rst-content">
          
            <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
             <article itemprop="articleBody" id="pytorch-article" class="pytorch-article">
              
  <section id="encrypted-secrets">
<span id="secrets"></span><h1>Encrypted Secrets<a class="headerlink" href="#encrypted-secrets" title="Permalink to this headline">¶</a></h1>
<p>Encrypted Secrets allow you to pass private data to your apps, like API keys, access tokens, database passwords, or other credentials, in a secure way without exposing them in your code.
Secrets provide you with a secure way to store this data in a way that is accessible to Apps so that they can authenticate third-party services/solutions.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For non-sensitive configuration values, we recommend using <a class="reference internal" href="environment_variables.html#environment-variables"><span class="std std-ref">plain-text Environment Variables</span></a>.</p>
</div>
<section id="add-a-secret">
<h2>Add a secret<a class="headerlink" href="#add-a-secret" title="Permalink to this headline">¶</a></h2>
<p>Add the secret to your profile on lightning.ai.
Log in to your lightning.ai account &gt; <strong>Profile</strong> &gt; <strong>Secrets</strong> tab &gt; click the <strong>+New</strong> button.
Provide a name and value to your secret, for example, name could be “github_api_token”.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Secret names must start with a letter and can only contain letters, numbers, dashes, and periods. The Secret names must comply with <a class="reference external" href="https://www.rfc-editor.org/rfc/rfc1123">RFC1123 naming conventions</a>. The Secret value has no restrictions.</p>
</div>
<br />
<video id="background-video" autoplay loop muted controls poster="https://pl-flash-data.s3.amazonaws.com/assets_lightning/docs/images/storage/encrypted_secrets_login.png" width="100%">
    <source src="https://pl-flash-data.s3.amazonaws.com/assets_lightning/docs/images/storage/encrypted_secrets_login.mp4" type="video/mp4" width="100%">
</video>
<br />
<br /></section>
<section id="use-a-secret">
<h2>Use a secret<a class="headerlink" href="#use-a-secret" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Add an environment variable to your app to read the secret. For example, add an “api_token” environment variable:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="n">component</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">api_token</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;api_token&quot;</span><span class="p">])</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Pass the secret to your app run with the following command:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lightning run app app.py --cloud --secret &lt;environment-variable&gt;<span class="o">=</span>&lt;secret-name&gt;
</pre></div>
</div>
<p>In this example, the command would be:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lightning run app app.py --cloud --secret <span class="nv">api_token</span><span class="o">=</span>github_api_token
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">--secret</span></code> option can be used for multiple Secrets, and alongside the <code class="docutils literal notranslate"><span class="pre">--env</span></code> option.</p>
<p>Here’s an example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lightning run app app.py --cloud --env <span class="nv">FOO</span><span class="o">=</span>bar --secret <span class="nv">MY_APP_SECRET</span><span class="o">=</span>my-secret --secret <span class="nv">ANOTHER_SECRET</span><span class="o">=</span>another-secret
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="how-does-this-work">
<h2>How does this work<a class="headerlink" href="#how-does-this-work" title="Permalink to this headline">¶</a></h2>
<p>When a Lightning App (App) <strong>runs in the cloud</strong>, a Secret can be exposed to the App using environment variables.
The value of the Secret is encrypted in the Lightning.ai database, and is only decrypted and accessible to
LightningFlow (Flow) or LightningWork (Work) processes in the cloud (when you use the <code class="docutils literal notranslate"><span class="pre">--cloud</span></code> option running your App).</p>
</section>
</section>


             </article>
             
            </div>
            <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../workflows/arrange_tabs/index.html" class="btn btn-neutral float-right" title="Arrange App Tabs" accesskey="n" rel="next">Next <img src="../_static/images/chevron-right-orange.svg" class="next-page"></a>
      
      
        <a href="../workflows/add_web_link.html" class="btn btn-neutral" title="Add a web link" accesskey="p" rel="prev"><img src="../_static/images/chevron-right-orange.svg" class="previous-page"> Previous</a>
      
    </div>
  

  

    <hr>

  

  <div role="contentinfo">
    <p>
        &copy; Copyright Copyright (c) 2021-2022, Lightning-AI et al...

    </p>
  </div>
    
      <div>
        Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
      </div>
     

</footer>

          </div>
        </div>

        <div class="pytorch-content-right" id="pytorch-content-right">
          <div class="pytorch-right-menu" id="pytorch-right-menu">
            <div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">Encrypted Secrets</a><ul>
<li><a class="reference internal" href="#add-a-secret">Add a secret</a></li>
<li><a class="reference internal" href="#use-a-secret">Use a secret</a></li>
<li><a class="reference internal" href="#how-does-this-work">How does this work</a></li>
</ul>
</li>
</ul>

            </div>
          </div>
        </div>
      </section>
    </div>

  


  

     
       <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
         <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
         <script src="../_static/jquery.js"></script>
         <script src="../_static/underscore.js"></script>
         <script src="../_static/doctools.js"></script>
         <script src="../_static/clipboard.min.js"></script>
         <script src="../_static/copybutton.js"></script>
         <script src="../_static/copybutton.js"></script>
         <script>let toggleHintShow = 'Click to show';</script>
         <script>let toggleHintHide = 'Click to hide';</script>
         <script>let toggleOpenOnPrint = 'true';</script>
         <script src="../_static/togglebutton.js"></script>
         <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
     

  

  <script type="text/javascript" src="../_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="../_static/js/vendor/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 
<script script type="text/javascript">
  var collapsedSections = ['App Building Skills', 'Practical Examples', 'Common Workflows', 'Core API Reference', 'Addons API Reference', 'Glossary'];
</script>



  <div id="lightning-ai-footer"></div>

  <div class="cookie-banner-wrapper">
  <div class="container">
    <p class="gdpr-notice">To analyze traffic and optimize your experience, we serve cookies on this site. By clicking or navigating, you agree to allow our usage of cookies. Read PyTorch Lightning's <a href="https://pytorchlightning.ai/privacy-policy">Privacy Policy</a>.</p>
    <img class="close-button" src="../_static/images/pytorch-x.svg">
  </div>
</div>

  <!-- End Footer -->

  <script type="text/javascript" src="../_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();
      filterTags.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
 </body>
</html>